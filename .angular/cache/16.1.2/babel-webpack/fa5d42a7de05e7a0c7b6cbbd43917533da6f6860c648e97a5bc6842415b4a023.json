{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./currency.service\";\nimport * as i2 from \"@angular/forms\";\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(currencyService) {\n      this.currencyService = currencyService;\n      this.amount1 = 0;\n      this.amount2 = 0;\n      this.currency1 = 'UAH';\n      this.currency2 = 'USD';\n    }\n    ngOnInit() {\n      this.currencyService.getExchangeRate(this.currency1).subscribe(response => {\n        this.exchangeRates = response.conversion_rates;\n      });\n    }\n    convertCurrency(event, field) {\n      if (field === 'amount1') {\n        const value = parseFloat(event.target.value);\n        this.amount1 = isNaN(value) || value === 0 ? 0 : value;\n      } else if (field === 'currency1') {\n        this.currency1 = event.target.value;\n      } else if (field === 'amount2') {\n        const value = parseFloat(event.target.value);\n        this.amount2 = isNaN(value) || value === 0 ? 0 : value;\n      } else if (field === 'currency2') {\n        this.currency2 = event.target.value;\n      }\n      this.currencyService.getExchangeRate(this.currency1).subscribe(response => {\n        const rate = response.conversion_rates[this.currency2];\n        if (field === 'amount1') {\n          this.amount2 = parseFloat((this.amount1 * rate).toFixed(2));\n        } else if (field === 'amount2') {\n          this.amount1 = parseFloat((this.amount2 / rate).toFixed(2));\n        } else if (field === 'currency1') {\n          this.amount2 = parseFloat((this.amount1 * rate).toFixed(2));\n        } else if (field === 'currency2') {\n          this.amount1 = parseFloat((this.amount2 / rate).toFixed(2));\n        }\n      });\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.CurrencyService));\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 39,\n    vars: 11,\n    consts: [[1, \"header\"], [1, \"exchange-rate\"], [1, \"flex_container\"], [1, \"main_container\"], [1, \"currency-container\"], [1, \"currency-input\"], [\"type\", \"number\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"curr_value\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"UAH\"], [\"value\", \"USD\"], [\"value\", \"EUR\"], [1, \"result\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1, \" Exchange Rates: \");\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"span\");\n        i0.ɵɵtext(4, \"USD:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 1)(7, \"span\");\n        i0.ɵɵtext(8, \"EUR:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 1)(11, \"span\");\n        i0.ɵɵtext(12, \"UAH:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 2)(15, \"div\", 3)(16, \"h1\");\n        i0.ɵɵtext(17, \"Currency converter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 4)(19, \"div\", 5)(20, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.amount1 = $event;\n        })(\"input\", function AppComponent_Template_input_input_20_listener($event) {\n          return ctx.convertCurrency($event, \"amount1\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_21_listener($event) {\n          return ctx.currency1 = $event;\n        })(\"change\", function AppComponent_Template_select_change_21_listener($event) {\n          return ctx.convertCurrency($event, \"currency1\");\n        });\n        i0.ɵɵelementStart(22, \"option\", 8);\n        i0.ɵɵtext(23, \"UAH\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 9);\n        i0.ɵɵtext(25, \"USD\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"option\", 10);\n        i0.ɵɵtext(27, \"EUR\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"div\", 5)(29, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_29_listener($event) {\n          return ctx.amount2 = $event;\n        })(\"input\", function AppComponent_Template_input_input_29_listener($event) {\n          return ctx.convertCurrency($event, \"amount2\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_30_listener($event) {\n          return ctx.currency2 = $event;\n        })(\"change\", function AppComponent_Template_select_change_30_listener($event) {\n          return ctx.convertCurrency($event, \"currency2\");\n        });\n        i0.ɵɵelementStart(31, \"option\", 8);\n        i0.ɵɵtext(32, \"UAH\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"option\", 9);\n        i0.ɵɵtext(34, \"USD\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"option\", 10);\n        i0.ɵɵtext(36, \"EUR\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(37, \"div\", 11);\n        i0.ɵɵtext(38);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.exchangeRates == null ? null : ctx.exchangeRates.USD, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.exchangeRates == null ? null : ctx.exchangeRates.EUR, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.exchangeRates == null ? null : ctx.exchangeRates.UAH, \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.amount1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.currency1);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.amount2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.currency2);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate4(\" Your result: \", ctx.amount1, \" \", ctx.currency1, \" = \", ctx.amount2, \" \", ctx.currency2, \" \");\n      }\n    },\n    dependencies: [i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}